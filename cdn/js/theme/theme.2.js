document.addEventListener("DOMContentLoaded",()=>{var e=document.getElementById("loading-screen");const o=document.getElementById("game-search"),n=document.querySelectorAll(".filter-button"),t=document.getElementById("games-grid");var i=document.getElementById("favorites-button");const r=document.getElementById("favorites-popup"),a=document.getElementById("favorites-list");var d=document.getElementById("close-favorites");const c=document.getElementById("overlay");let p=[];const s=[{id:"f_t_k_1",name:"Flip The Knife",category:"action",promoIndex:1,description:"أتقن فن رمي السكين في هذه اللعبة الإدمانية!"},{id:"m_v_b_2",name:"Math vs Bat",category:"math",promoIndex:2,description:"شحذ مهاراتك في الرياضيات أثناء محاربة الخفافيش!"},{id:"c_c_3",name:"Chroma Challenge",category:"puzzle",promoIndex:3,description:"اختبر ردود أفعالك في هذه اللعبة الزاهية لمطابقة الألوان."},{id:"b_l_4",name:"Basketball Legend",category:"sports",promoIndex:4,description:"كن أسطورة كرة السلة وسجل النقاط."},{id:"r_h_5",name:"Rise Higher",category:"action",promoIndex:5,description:"اصعد لأعلى قدر ممكن في هذه اللعبة المليئة بالتحدي."},{id:"k_s_6",name:"Koala Sling",category:"action",promoIndex:6,description:"ساعد الكوالا اللطيف على التأرجح والوصول إلى أهدافه."},{id:"s_t_p_7",name:"Stack The Pancakes",category:"puzzle",promoIndex:7,description:"قم بتكديس أكبر عدد ممكن من الفطائر دون أن تسقط!"},{id:"f_j_8",name:"Flip Jump",category:"action",promoIndex:8,description:"اقلب واقفز طريقك عبر العقبات المثيرة."},{id:"k_d_9",name:"Knife Dart",category:"action",promoIndex:9,description:"صوب وارمِ السكين في هذه اللعبة الدقيقة."},{id:"a_s_10",name:"Ant Smash",category:"action",promoIndex:10,description:"اسحق النمل المزعج بأسرع ما يمكنك!"},{id:"f_b_11",name:"Flick Basketball",category:"sports",promoIndex:11,description:"اختبر مهاراتك في تسديد الكرة في هذه اللعبة الممتعة."},{id:"d_m_u_12",name:"Don't Mess Up",category:"puzzle",promoIndex:12,description:"حافظ على تركيزك ولا تخطئ في هذه اللعبة الصعبة."},{id:"g_r_r_13",name:"Giant Rabbit Run",category:"action",promoIndex:13,description:"اركض واقفز مع الأرنب العملاق في مغامرة شيقة!"},{id:"c_b_d_14",name:"City Ball Dunkin",category:"sports",promoIndex:14,description:"استعرض مهاراتك في رمي الكرة في المدينة!"},{id:"f_t_b_15",name:"Flip The Bottle",category:"puzzle",promoIndex:15,description:"هل يمكنك قلب الزجاجة وإبقائها واقفة؟"},{id:"b_t_b_16",name:"Bill The Bowman",category:"action",promoIndex:16,description:"كن أفضل رامي سهام مع بيل!"},{id:"t_i_w_17",name:"Tennis is War",category:"sports",promoIndex:17,description:"معركة تنس حامية الوطيس، هل أنت مستعد؟"},{id:"s_h_18",name:"Sky High",category:"action",promoIndex:18,description:"اصعد إلى السماء واكتشف آفاقًا جديدة."},{id:"m_t_t_19",name:"Muay Thai Training",category:"sports",promoIndex:19,description:"تدرب على فنون الملاكمة التايلاندية وأصبح محترفاً."},{id:"f_t_g_20",name:"Fill The Gap",category:"puzzle",promoIndex:20,description:"املأ الفراغات في هذه اللعبة التفكيرية."},{id:"o_h_21",name:"Oil Hunt",category:"puzzle",promoIndex:21,description:"ابحث عن النفط وكن ملك النفط!"},{id:"l_m_22",name:"Lock Master",category:"puzzle",promoIndex:22,description:"اختبر ذكائك في فتح الأقفال."},{id:"d_b_23",name:"Drift Boss",category:"sports",promoIndex:23,description:"كن سيد الانجراف في هذه اللعبة المليئة بالإثارة."},{id:"s_h_24",name:"Snowboard Hero",category:"sports",promoIndex:24,description:"انطلق على الجليد وكن بطل التزلج!"},{id:"s_h_25",name:"Ski Hero",category:"sports",promoIndex:25,description:"انحدار مثير على الجليد، كن البطل!"},{id:"s_c_r_26",name:"Santa City Run",category:"action",promoIndex:26,description:"ساعد سانتا في جمع الهدايا في هذه المغامرة!"},{id:"c_c_27",name:"Candy Christmas",category:"puzzle",promoIndex:27,description:"لعبة ألغاز حلوة بطابع الكريسماس."},{id:"t_p_28",name:"Teen Patti",category:"card",promoIndex:28,description:"لعبة ورق مثيرة تتطلب الذكاء والحظ."},{id:"p_p_29",name:"Pocket Pac",category:"action",promoIndex:29,description:"مغامرات باكمان في جيبك!"},{id:"p_k_30",name:"Penalty Kick",category:"sports",promoIndex:30,description:"سدد ركلات الترجيح وكن هدافاً."},{id:"k_d_c_31",name:"Knock Down Cans",category:"puzzle",promoIndex:31,description:"صوب واسقط العلب في هذه اللعبة الممتعة."},{id:"b_32",name:"Bricked",category:"puzzle",promoIndex:32,description:"لعبة تكسير الطوب الكلاسيكية مع لمسة جديدة."},{id:"j_b_p_33",name:"Jewels Blocks Puzzle",category:"puzzle",promoIndex:33,description:"رتب الجواهر واحل الألغاز."},{id:"s_h_34",name:"Spore Hunter",category:"action",promoIndex:34,description:"طارِد الجراثيم في هذه اللعبة المليئة بالتشويق."},{id:"b_w_p_35",name:"Block Wood Puzzle",category:"puzzle",promoIndex:35,description:"ألغاز خشبية ممتعة تتحدى تفكيرك."},{id:"t_36",name:"Tripoly",category:"card",promoIndex:36,description:"استمتع بلعبة الورق التقليدية تريبولي."},{id:"j_c_37",name:"Jewel Crush",category:"puzzle",promoIndex:37,description:"اسحق الجواهر اللامعة وحقق النقاط."},{id:"h_s_38",name:"Hop Stars",category:"action",promoIndex:38,description:"اقفز بين النجوم في هذه اللعبة السريعة."},{id:"s_c_39",name:"Sky Castle",category:"puzzle",promoIndex:39,description:"ابنِ قلعتك في السماء في هذه اللعبة الاستراتيجية."},{id:"p_t_r_40",name:"Piano Tile Reflex",category:"music",promoIndex:40,description:"اختبر ردود أفعالك على أنغام البيانو."},{id:"m_h_41",name:"Megacity Hop",category:"action",promoIndex:41,description:"اقفز عبر المباني في المدينة الضخمة."},{id:"c_l_d_h_42",name:"Cam & Leon Donut Hop",category:"action",promoIndex:42,description:"ساعد كام وليون في القفز بين الدونات اللذيذة."},{id:"s_f_44",name:"Sheep Fight",category:"action",promoIndex:44,description:"خرفان تقاتل من أجل البقاء!"},{id:"s_s_45",name:"Spiral Stairs",category:"puzzle",promoIndex:45,description:"تحرك في السلالم الحلزونية وتجنب العقبات."},{id:"s_p_46",name:"Speed Pinball",category:"sports",promoIndex:46,description:"لعبة بينبول سريعة ومثيرة!"},{id:"j_b_47",name:"Jumping Burger",category:"action",promoIndex:47,description:"برجر يقفز في مغامرة مضحكة."},{id:"c_p_48",name:"Classic Pinball",category:"sports",promoIndex:48,description:"استمتع بلعبة البينبول الكلاسيكية."},{id:"p_b_3_49",name:"Pro Bowling 3D",category:"sports",promoIndex:49,description:"جرب البولينج الاحترافي ثلاثي الأبعاد."},{id:"b_b_50",name:"Brick Breaker",category:"puzzle",promoIndex:50,description:"لعبة تكسير الطوب الإدمانية."},{id:"a_s_51",name:"Airplane Survival",category:"action",promoIndex:51,description:"قُد طائرتك وتجنب الاصطدام."},{id:"u_b_52",name:"Unicorn Blast",category:"puzzle",promoIndex:52,description:"أطلق الانفجارات الملونة مع اليونيكورن."},{id:"j_a_s_53",name:"Jump and Splat",category:"action",promoIndex:53,description:"اقفز واسحق طريقك للفوز."},{id:"c_p_54",name:"Color Pipes",category:"puzzle",promoIndex:54,description:"وصل الأنابيب الملونة في هذه اللعبة."},{id:"p_b_55",name:"Puzzle Ball",category:"puzzle",promoIndex:55,description:"حل الألغاز الكروية."},{id:"m_p_h_56",name:"Mango Piggy Hero",category:"action",promoIndex:56,description:"ساعد المانجو الخنزير البطل في مغامراته."},{id:"s_j_57",name:"Super Jump",category:"action",promoIndex:57,description:"اقفز عالياً قدر الإمكان!"},{id:"r_e_58",name:"Rugby Extreme",category:"sports",promoIndex:58,description:"تجربة رجبي مثيرة ومكثفة."},{id:"s_m_59",name:"Ships & Monsters",category:"action",promoIndex:59,description:"قاتل الوحوش في البحار!"},{id:"2_d_i_60",name:"2048 Dragon Island",category:"puzzle",promoIndex:60,description:"لعبة 2048 بطابع جزيرة التنين."},{id:"l_m_a_61",name:"Leave Me Alone",category:"action",promoIndex:61,description:"تجنب الأعداء وحاول البقاء على قيد الحياة."},{id:"z_c_62",name:"Zero Collision",category:"action",promoIndex:62,description:"لعبة سباق تتطلب الدقة لتجنب الاصطدامات."},{id:"m_g_a_63",name:"Mini Golf Adventure",category:"sports",promoIndex:63,description:"مغامرة غولف مصغرة ممتعة."},{id:"p_v_b_v_64",name:"Piggy vs Bad Veggies",category:"action",promoIndex:64,description:"الخنزير يقاتل الخضروات الشريرة!"},{id:"s_t_b_65",name:"Stack The Burger",category:"puzzle",promoIndex:65,description:"قم بتكديس طبقات البرجر."},{id:"k_c_k_66",name:"Karate Chop Kick",category:"action",promoIndex:66,description:"استعرض مهاراتك في الكاراتيه."},{id:"s_a_67",name:"Santa Airlines",category:"action",promoIndex:67,description:"ساعد سانتا في توصيل الهدايا."},{id:"c_t_f_68",name:"Christmas Tree Fun",category:"puzzle",promoIndex:68,description:"لعبة ألغاز حلوة بطابع الكريسماس."},{id:"m_a_c_69",name:"Monsters and Cake",category:"puzzle",promoIndex:69,description:"ساعد الوحوش في الحصول على الكعك."},{id:"c_t_b_70",name:"Cross The Bridge",category:"puzzle",promoIndex:70,description:"اختبر مهاراتك في بناء الجسور."},{id:"w_a_m_71",name:"Whack A Mole",category:"action",promoIndex:71,description:"اضرب الخلد قبل أن يختبئ!"},{id:"b_b_72",name:"Brick Breaker",category:"puzzle",promoIndex:72,description:"عودة لعبة تكسير الطوب."},{id:"m_h_73",name:"Mummy Hunter",category:"action",promoIndex:73,description:"اصطد المومياوات في هذه المغامرة المخيفة."},{id:"f_u_74",name:"Flappy Unicorn",category:"action",promoIndex:74,description:"ساعد اليونيكورن الطائر على الطيران."},{id:"e_f_a_75",name:"Escape from Aztec",category:"puzzle",promoIndex:75,description:"اهرب من معبد الأزتك القديم."},{id:"e_s_76",name:"Echo Simon",category:"puzzle",promoIndex:76,description:"اختبر ذاكرتك في لعبة سيمون."},{id:"p_c_c_77",name:"Pro Cricket Champion",category:"sports",promoIndex:77,description:"كن بطل الكريكيت المحترف."},{id:"h_78",name:"Hexable",category:"puzzle",promoIndex:78,description:"لعبة ألغاز سداسية الأضلاع."},{id:"j_b_79",name:"Jetpack Blast",category:"action",promoIndex:79,description:"انطلق بالدفع النفاث وحطم الأرقام القياسية."},{id:"c_f_80",name:"Count Faster!",category:"math",promoIndex:80,description:"عد أسرع من أي وقت مضى!"},{id:"d_c_s_81",name:"Duck Carnival Shoot",category:"action",promoIndex:81,description:"صوب وأطلق على البط في المهرجان."},{id:"p_p_82",name:"Paper Planes",category:"action",promoIndex:82,description:"قُد طائراتك الورقية في مغامرة جوية."},{id:"n_c_83",name:"Numbers Challenge",category:"math",promoIndex:83,description:"تحدي الأرقام، هل يمكنك حلها؟"},{id:"l_c_84",name:"Laddu Champion",category:"sports",promoIndex:84,description:"كن بطل اللادو!"},{id:"c_v_r_85",name:"Curiosa vs Robots",category:"action",promoIndex:85,description:"قاتل الروبوتات الشريرة مع كوريوصا."},{id:"e_g_86",name:"Expert Goalkeeper",category:"sports",promoIndex:86,description:"كن حارس المرمى الخبير."},{id:"s_s_87",name:"Sushi Sensei",category:"puzzle",promoIndex:87,description:"اجمع السوشي كالسيد الخبير."},{id:"s_s_88",name:"Street Shooter",category:"action",promoIndex:88,description:"قتال شوارع مثير!"},{id:"s_c_89",name:"Santa Chimney",category:"action",promoIndex:89,description:"ساعد سانتا في النزول من المدخنة."},{id:"s_p_90",name:"Soccer Pro",category:"sports",promoIndex:90,description:"كن لاعب كرة قدم محترفاً."},{id:"d_r_91",name:"Dinosaur Run",category:"action",promoIndex:91,description:"اركض مع الديناصور وتجنب العقبات."},{id:"a_s_i_92",name:"Alpha Space Invasion",category:"action",promoIndex:92,description:"دافع عن الفضاء من غزو الفا."},{id:"c_t_t_93",name:"Catch the Tiger",category:"puzzle",promoIndex:93,description:"اصطد النمر في هذه اللعبة الذكية."},{id:"w_s_p_94",name:"Wham-O Slide Party",category:"sports",promoIndex:94,description:"استمتع بحفلة الانزلاق المائية."},{id:"f_l_r_95",name:"Fast Lane Racing",category:"sports",promoIndex:95,description:"تسابق بسرعة في المسار السريع."},{id:"d_h_96",name:"Duck Hunter",category:"action",promoIndex:96,description:"اصطد البط في هذه اللعبة الكلاسيكية."},{id:"h_97",name:"Hangman",category:"puzzle",promoIndex:97,description:"لعبة الكلمات الشهيرة، حاول تخمين الكلمة."},{id:"d_b_98",name:"Dodgeball Battle",category:"sports",promoIndex:98,description:"معركة كرة المراوغة، هل يمكنك الفوز؟"},{id:"g_k_99",name:"Gravity Kid",category:"action",promoIndex:99,description:"تحكم في الجاذبية وساعد الطفل."},{id:"b_d_100",name:"Boat Dash",category:"sports",promoIndex:100,description:"تسابق بقاربك في هذه اللعبة السريعة."},{id:"i_h_s_101",name:"Ice Hockey Shootout",category:"sports",promoIndex:101,description:"سدد الأهداف في مرمى الهوكي."},{id:"p_g_w_102",name:"Pepperoni Gone Wild",category:"puzzle",promoIndex:102,description:"ساعد البيبروني المجنون!"},{id:"f_s_103",name:"Finger Spinner",category:"casual",promoIndex:103,description:"لعبة سبينر الأصابع المريحة."},{id:"s_f_104",name:"Swing Forward",category:"action",promoIndex:104,description:"تأرجح للأمام وتجاوز العقبات."},{id:"f_l_105",name:"Flappy Lamp",category:"action",promoIndex:105,description:"لعبة فلابي كلاسيكية مع مصباح."},{id:"t_106",name:"Trixology",category:"puzzle",promoIndex:106,description:"حل الألغاز ثلاثية الأبعاد."},{id:"z_s_107",name:"Zombie Survival",category:"action",promoIndex:107,description:"قاتل الزومبي وحاول البقاء على قيد الحياة."},{id:"p_w_a_108",name:"Pro Wrestling Action",category:"sports",promoIndex:108,description:"كن مصارعًا محترفًا في هذه اللعبة."},{id:"s_t_r_109",name:"Santa T-Rex Run",category:"action",promoIndex:109,description:"ساعد سانتا تي-ريكس في الجري."},{id:"t_w_110",name:"Triangle Wars",category:"action",promoIndex:110,description:"حرب المثلثات، دافع عن قاعدتك."},{id:"p_t_s_111",name:"Pop The Sugar",category:"puzzle",promoIndex:111,description:"افقع السكر في هذه اللعبة الممتعة."},{id:"f_s_112",name:"Flick Soccer",category:"sports",promoIndex:112,description:"سدد الكرة في المرمى بلمسة واحدة."},{id:"o_c_113",name:"Onet Connect",category:"puzzle",promoIndex:113,description:"وصل الصور المتشابهة."},{id:"b_s_114",name:"Beer Slide",category:"casual",promoIndex:114,description:"اسحب كأس البيرة عبر الطاولة."},{id:"k_j_115",name:"Kawaii Jump",category:"action",promoIndex:115,description:"اقفز مع شخصيات كاواي اللطيفة."},{id:"p_t_f_116",name:"Pop The Frog",category:"puzzle",promoIndex:116,description:"افقع الضفادع في هذه اللعبة الممتعة."},{id:"h_s_117",name:"Hoop Star",category:"sports",promoIndex:117,description:"كن نجم الهوكي وحقق الأهداف."},{id:"s_h_118",name:"Swimming Hero",category:"sports",promoIndex:118,description:"كن بطل السباحة!"},{id:"s_a_i_119",name:"Space Alien Invaders",category:"action",promoIndex:119,description:"دافع عن الفضاء من غزاة الفضاء."},{id:"v_p_120",name:"Valet Parking",category:"puzzle",promoIndex:120,description:"اركن السيارات بدقة كخبير ركن السيارات."},{id:"g_t_s_121",name:"Grab The Sushi",category:"action",promoIndex:121,description:"التقط السوشي بأسرع ما يمكنك."},{id:"c_b_122",name:"Commando Boat",category:"action",promoIndex:122,description:"قُد قارب الكوماندوز في مهمات خطيرة."},{id:"j_w_123",name:"Jumping Whooper",category:"action",promoIndex:123,description:"اقفز وتجنب العقبات في هذه اللعبة."},{id:"b_r_124",name:"Banana Running",category:"action",promoIndex:124,description:"اركض مع الموزة في مغامرة مسلية."},{id:"c_s_125",name:"Chef Slash",category:"action",promoIndex:125,description:"اقطع المكونات كطباخ ماهر."},{id:"k_m_126",name:"Knife Master",category:"action",promoIndex:126,description:"كن سيد السكين في هذه اللعبة الدقيقة."},{id:"o_w_p_127",name:"OMG Word Pop",category:"puzzle",promoIndex:127,description:"اكتشف الكلمات في هذه اللعبة الممتعة."},{id:"c_t_s_128",name:"Catch The Snacks",category:"action",promoIndex:128,description:"التقط الوجبات الخفيفة المتساقطة."},{id:"c_t_m_129",name:"Connect The Microchip",category:"puzzle",promoIndex:129,description:"وصل الميكروشب وحل اللغز."},{id:"u_b_130",name:"Ultimate Baseball",category:"sports",promoIndex:130,description:"تجربة بيسبول نهائية."},{id:"s_z_131",name:"Stupid Zombies",category:"action",promoIndex:131,description:"اطرد الزومبي الغبية في هذه اللعبة."},{id:"c_t_r_132",name:"Climb The Rock",category:"action",promoIndex:132,description:"تسلق الصخور وتجاوز العقبات."},{id:"n_n_y_133",name:"Nom Nom Yum",category:"puzzle",promoIndex:133,description:"ساعد الوحش اللطيف في الحصول على الطعام."},{id:"s_s_134",name:"Ski Slopes",category:"sports",promoIndex:134,description:"تزلج على المنحدرات الثلجية."},{id:"f_s_f_135",name:"Fruit Slice Frenzy",category:"action",promoIndex:135,description:"اقطع الفاكهة بأقصى سرعة."},{id:"g_t_p_136",name:"Grab the Pizza",category:"action",promoIndex:136,description:"التقط البيتزا المتساقطة."},{id:"k_c_137",name:"Kong Climb",category:"action",promoIndex:137,description:"ساعد كونغ في تسلق المبنى."},{id:"e_b_138",name:"Extreme Baseball",category:"sports",promoIndex:138,description:"بيسبول مثير ومليء بالتحديات."},{id:"s_m_m_139",name:"Superhero Memory Match",category:"puzzle",promoIndex:139,description:"اختبر ذاكرتك مع الأبطال الخارقين. كن بطلاً في ألعاب الذاكرة مع Super Heroes"},{id:"g_t_c_140",name:"Grab The Cookie",category:"action",promoIndex:140,description:"التقط الكوكيز قبل أن تسقط."},{id:"p_s_t_141",name:"Puzzle Slide Tours",category:"puzzle",promoIndex:141,description:"جولات ألغاز شرائح ممتعة."},{id:"w_a_s_142",name:"Wind and Solar",category:"puzzle",promoIndex:142,description:"استفد من طاقة الرياح والشمس."},{id:"g_t_s_143",name:"Guess The Superhero",category:"puzzle",promoIndex:143,description:"حاول تخمين الأبطال الخارقين."},{id:"f_p_145",name:"Funky Plane",category:"action",promoIndex:145,description:"قُد طائرتك الفانكي في مغامرة."},{id:"c_c_146",name:"Crossword Casual",category:"puzzle",promoIndex:146,description:"ألغاز الكلمات المتقاطعة المريحة."},{id:"h_s_a_y_147",name:"How Smart Are You?",category:"math",promoIndex:147,description:"اختبر ذكائك في هذه اللعبة!"},{id:"a_m_148",name:"Axe Master",category:"action",promoIndex:148,description:"كن سيد الفأس في هذه اللعبة."},{id:"p_t_v_149",name:"Pop The Virus",category:"puzzle",promoIndex:149,description:"افقع الفيروسات في هذه اللعبة الممتعة."},{id:"e_v_c_g_150",name:"Electric Vehicle Charging Game",category:"puzzle",promoIndex:150,description:"لعبة شحن السيارات الكهربائية."},{id:"p_m_151",name:"Pipe Master",category:"puzzle",promoIndex:151,description:"كن سيد الأنابيب ووصلها بشكل صحيح."},{id:"h_f_152",name:"Hungry Frog",category:"action",promoIndex:152,description:"ساعد الضفدع الجائع في الحصول على الطعام."},{id:"p_t_b_153",name:"Pop The Bug",category:"puzzle",promoIndex:153,description:"افقع الحشرات في هذه اللعبة."},{id:"h_g_o_e_154",name:"Hardest Game On Earth",category:"action",promoIndex:154,description:"هل يمكنك الفوز في أصعب لعبة على الإطلاق؟"},{id:"p_r_155",name:"Parkour Run",category:"action",promoIndex:155,description:"اركض واقفز بأسلوب الباركور."},{id:"s_b_157",name:"Sudoku Blocks",category:"puzzle",promoIndex:157,description:"لعبة سودوكو مع كتل."},{id:"b_l_158",name:"Biker Lane",category:"sports",promoIndex:158,description:"سابق بدراجتك في مسار الدراجات. كن سيد الطريق بدراجتك"},{id:"s_c_159",name:"Snake Challenge",category:"action",promoIndex:159,description:"تحدي الثعبان الكلاسيكي."},{id:"m_s_160",name:"Mine Sweeper",category:"puzzle",promoIndex:160,description:"لعبة كاسحة الألغام الشهيرة."},{id:"s_m_161",name:"Swing Monkey",category:"action",promoIndex:161,description:"ساعد القرد في التأرجح."},{id:"d_t_t_162",name:"Defend The Tank",category:"action",promoIndex:162,description:"دافع عن دبابتك من هجمات العدو."}];function m(e){t.innerHTML="",e.forEach((e,o)=>{var n,i,r;t.innerHTML+=(o=.06*o,e=`https://www.appcreator24.com/android-app-creator/game/promo${(n=e).promoIndex}/media/graphics/promo/banners/180x120.jpg`,i="go:"+n.id.replace(/-/g,"_"),r=p.some(e=>e.id===n.id)?"favorited":"",`
                    <div class="game-card shadow-2xl overflow-hidden transform hover:scale-105 transition-all duration-300 group animate-pixelFadeIn flex flex-col" style="animation-delay: ${o}s;" data-category="${n.category}" data-game-id="${n.id}" data-game-name="${n.name}">
                        <img src="${e}" alt="صورة لعبة ${n.name}" class="w-full h-52 object-cover group-hover:opacity-80 transition-opacity duration-300" loading="lazy">
                        <div class="p-6 flex-grow">
                            <h3 class="text-2xl font-extrabold mb-2">${n.name}</h3>
                            <p class="text-gray-400 text-base mb-4">${n.description}</p>
                        </div>
                        <div class="p-6 pt-0 flex items-center justify-between w-full">
                            <a href="${i}" class="flex-grow bg-[#50FA7B] hover:bg-[#4CAF50] text-[#282A36] font-bold py-3 px-6 rounded-md text-center transition-all duration-300 shadow-lg text-lg">العب الآن</a>
                            <button class="favorite-button" data-game-id="${n.id}" data-game-name="${n.name}" aria-label="إضافة إلى المفضلة">
                                <span class="material-symbols-outlined ${r}">star</span>
                            </button>
                        </div>
                    </div>
                `)}),document.querySelectorAll(".favorite-button").forEach(e=>{e.removeEventListener("click",_),e.addEventListener("click",_)})}function _(e){e=e.currentTarget;l(e.dataset.gameId,e.dataset.gameName,e.querySelector(".material-symbols-outlined"))}function l(o,e,n){var i=p.findIndex(e=>e.id===o);-1<i?(p.splice(i,1),n&&n.classList.remove("favorited")):(p.push({id:o,name:e}),n&&n.classList.add("favorited")),localStorage.setItem("mawi_favorites",JSON.stringify(p)),g()}function g(){a.innerHTML="",0===p.length?a.innerHTML='<li class="text-gray-400 p-4">لا توجد ألعاب مفضلة بعد. ابدأ بإضافة بعض الألعاب!</li>':(p.forEach(e=>{var o=document.createElement("li");o.innerHTML=`
                        <span>${e.name}</span>
                        <div class="flex items-center gap-3">
                            <a href="go:${e.id.replace(/-/g,"_")}" class="play-favorite-btn">العب الآن</a>
                            <button class="remove-favorite-btn" data-game-id="${e.id}">إزالة</button>
                        </div>
                    `,a.appendChild(o)}),document.querySelectorAll("#favorites-list .remove-favorite-btn").forEach(e=>{e.addEventListener("click",e=>{e=e.target.dataset.gameId;l(e,"",document.querySelector(`.game-card[data-game-id="${e}"] .favorite-button .material-symbols-outlined`))})}))}i.addEventListener("click",()=>{g(),r.style.display="block",r.classList.add("show"),c.style.display="block"}),d.addEventListener("click",()=>{r.classList.remove("show"),setTimeout(()=>{r.style.display="none",c.style.display="none"},400)}),c.addEventListener("click",()=>{r.classList.remove("show"),setTimeout(()=>{r.style.display="none",c.style.display="none"},400)});const y=()=>{const n=o.value.toLowerCase(),i=document.querySelector(".filter-button.active").dataset.category;m(s.filter(e=>{var o=e.name.toLowerCase().includes(n)||e.description.toLowerCase().includes(n),e="all"===i||e.category===i;return o&&e}))};o.addEventListener("keyup",y),n.forEach(e=>{e.addEventListener("click",()=>{n.forEach(e=>e.classList.remove("active")),e.classList.add("active"),y()})});i=localStorage.getItem("mawi_favorites");if(i)try{p=(p=JSON.parse(i)).filter(e=>"string"==typeof e.id&&"string"==typeof e.name)}catch(e){console.error("خطأ في تحليل بيانات المفضلة من LocalStorage:",e),p=[]}else p=[];document.querySelectorAll(".favorite-button").forEach(e=>{const o=e.dataset.gameId;e=e.querySelector(".material-symbols-outlined");e&&(p.some(e=>e.id===o)?e.classList.add("favorited"):e.classList.remove("favorited"))}),m(s),y(),e.classList.add("hidden")});